<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Watch Selfie Generator</title>
    <link
      rel="preload"
      as="font"
      type="font/woff"
      href="./vendor/fonts/PublicoHeadline-Light.woff"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff"
      href="./vendor/fonts/Montserrat-Bold.woff"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./vendor/cropper.min.css" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://webfonts.peytzmail.com" />
    <script defer src="./vendor/cropper.min.js"></script>
    <script defer src="./app.js"></script>
  </head>
  <body>
    <main class="app-shell">
      <header>
        <h1>Medarbejderfoto</h1>
        <p>Tag eller upload et billede, udfyld navn og titel, og generér din printklare fil.</p>
      </header>

      <!-- STEP 1 -->
      <section class="step" data-step="1">
        <form id="info-form">
          <label class="input-group">
            <span>Dit navn</span>
            <input type="text" id="full-name" name="full-name" placeholder="Fornavn Efternavn" required />
            <p class="field-error" id="full-name-error" role="alert"></p>
          </label>

          <label class="input-group">
            <span>Din titel</span>
            <input type="text" id="job-title" name="job-title" placeholder="Titel" required />
            <p class="field-error" id="job-title-error" role="alert"></p>
          </label>

          <div class="button-stack">
            <button type="button" id="capture-btn" class="primary">Tag selfie</button>
            <button type="button" id="upload-btn" class="secondary">Upload billede</button>
            <input
              type="file"
              id="file-input"
              accept="image/*"
              capture="environment"
              hidden
            />
          </div>

          <p class="helper">
            Sørg for godt lys og at du står midt i billedet. Du kan beskære i næste trin.
          </p>
        </form>
      </section>

      <!-- STEP 2 -->
      <section class="step" data-step="2" hidden>
        <div class="cropper-wrapper">
          <img id="cropper-image" alt="Forhåndsvisning" />
        </div>
        <p class="helper">
          Træk i den blå håndtag for at beskære. Sørg for, at dine øjne ligger på den
          øverste 1/3-linje for den rigtige komposition.
        </p>
        <div class="step-actions">
          <button type="button" class="secondary" data-nav="back">Tilbage</button>
          <button type="button" class="primary" id="crop-next">Frem</button>
        </div>
      </section>

      <!-- STEP 3 -->
      <section class="step" data-step="3" hidden>
        <div class="preview-wrapper">
          <canvas id="output-canvas" width="1063" height="1299" hidden></canvas>
          <img id="preview-image" alt="Færdigt billede" hidden />
        </div>
        <div class="step-actions vertical">
          <button type="button" class="secondary" id="upload-final">Upload til fremkaldelse</button>
          <button type="button" class="primary" id="to-byline">Videre til byline-billede</button>
          <button type="button" class="ghost" data-nav="start">Start forfra</button>
        </div>
      </section>

      <!-- STEP 4 -->
      <section class="step" data-step="4" hidden>
        <div class="byline-preview-card">
          <canvas id="byline-preview" width="600" height="600" aria-label="Forhåndsvisning af byline"></canvas>
        </div>

        <div class="cropper-wrapper byline-cropper">
          <img id="byline-cropper-image" alt="Byline beskæring" />
        </div>
        <p class="helper">
          Sørg for, at dit ansigt ligger inden for cirklen. Du kan justere billedet og efterfølgende lysstyrke og
          kontrast.
        </p>

        <label class="slider-group">
          <span>Lysstyrke</span>
          <input type="range" id="byline-brightness" min="-50" max="50" value="0" />
        </label>

        <label class="slider-group">
          <span>Kontrast</span>
          <input type="range" id="byline-contrast" min="-50" max="50" value="0" />
        </label>

        <label class="input-group">
          <span>Email til byline</span>
          <input type="email" id="byline-email" placeholder="mail@example.com" required />
          <p class="field-error" id="byline-email-error" role="alert"></p>
        </label>

        <div class="step-actions vertical">
          <button type="button" class="primary" id="send-byline">Send byline-billede til min mail</button>
          <button type="button" class="secondary" id="byline-back">Tilbage til upload</button>
          <button type="button" class="ghost" data-nav="start">Start forfra</button>
        </div>
      </section>
    </main>
  </body>
</html>

